import{r as d,j as e}from"./index-DgYjAzAV.js";import{C as h,a as p}from"./index.esm-FC9B2NJI.js";import{g as C,o as j}from"./api-CbhHiXfZ.js";import{C as g}from"./CRow-CkTnp1v3.js";import{C as y}from"./CCol-CupnGcp2.js";import{C as N,a as U}from"./CCardBody-beKhoL1g.js";import{C as b,a as t}from"./CInputGroupText-DrphRm9j.js";import{C as l}from"./CInputGroup-99dEA3AI.js";import{c as u}from"./DefaultLayout-n4crdqeM.js";import{C as n}from"./CFormInput-oMjOEnwC.js";import{a as v}from"./CButton-Ds9Im62X.js";import"./CConditionalPortal-DsNRDAW1.js";import"./cil-lock-locked-DmxpJbVL.js";import"./CFormControlWrapper-CjE6UTdE.js";const i=localStorage.getItem("token"),O=()=>{const[r,m]=d.useState({username:"",email:"",role:""});d.useEffect(()=>{(async s=>{try{const a=await C(s);m(a.data)}catch(a){console.error("Failed to fetch user profile:",a)}})(i)},[i]);const c=o=>{const{name:s,value:a}=o.target;m(x=>({...x,[s]:a}))},f=async o=>{o.preventDefault();try{await j(i,r),console.log("User profile updated successfully")}catch(s){console.error("Failed to update user profile:",s)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-90 d-flex flex-row align-items-center",children:e.jsx(h,{children:e.jsx(g,{className:"justify-content-center",children:e.jsx(y,{md:9,lg:7,xl:6,children:e.jsx(N,{className:"mx-4",children:e.jsx(U,{className:"p-4",children:e.jsxs(b,{onSubmit:f,children:[e.jsxs("p",{className:"text-center",children:["Hi ",r.username]}),e.jsxs(l,{className:"mb-3",children:[e.jsx(t,{children:e.jsx(p,{icon:u})}),e.jsx(n,{placeholder:"Username",autoComplete:"username",value:r.username,name:"username",onChange:c})]}),e.jsxs(l,{className:"mb-3",children:[e.jsx(t,{children:"@"}),e.jsx(n,{placeholder:"Email",autoComplete:"email",value:r.email,name:"email",onChange:c})]}),e.jsxs(l,{className:"mb-3",children:[e.jsx(t,{children:e.jsx(p,{icon:u})}),e.jsx(n,{value:r.role==="1"?"Admin":r.role==="2"?"Manager":r.role==="3"?"Staff":"",readOnly:!0})]}),e.jsx("div",{className:"d-grid",children:e.jsx(v,{color:"primary",type:"submit",children:"Update Account"})})]})})})})})})})};export{O as default};
