import{r as o,i as w,j as e,L as N}from"./index-DgYjAzAV.js";import{C as b,a as d}from"./index.esm-FC9B2NJI.js";import{g as k,l as y}from"./api-CbhHiXfZ.js";import{C as n}from"./CRow-CkTnp1v3.js";import{C as i}from"./CCol-CupnGcp2.js";import{C as v}from"./CCardGroup-BaB92KPI.js";import{C as S,a as I}from"./CCardBody-beKhoL1g.js";import{C as L,a as p}from"./CInputGroupText-DrphRm9j.js";import{C as x}from"./CInputGroup-99dEA3AI.js";import{c as h}from"./cil-lock-locked-DmxpJbVL.js";import{C as u}from"./CFormInput-oMjOEnwC.js";import{a as j}from"./CButton-Ds9Im62X.js";import"./CFormControlWrapper-CjE6UTdE.js";const J=()=>{const[t,C]=o.useState({email:"",password:""}),[c,g]=o.useState(""),a=w();o.useEffect(()=>{const s=localStorage.getItem("token");s&&(async()=>{try{(await k(s)).status===200&&a("/dashboard")}catch{localStorage.removeItem("token")}})()},[a]);const l=s=>{C({...t,[s.target.name]:s.target.value})},f=async s=>{s.preventDefault();try{const r=(await y(t)).data.token;localStorage.setItem("token",r),a("/dashboard")}catch{g("Invalid email or password")}};return e.jsx("div",{className:"d-flex justify-content-center align-items-center min-vh-100 bg-light-gradient",children:e.jsx(b,{children:e.jsx(n,{className:"justify-content-center",children:e.jsx(i,{md:6,lg:4,children:e.jsx(v,{children:e.jsx(S,{className:"shadow-lg border-0 rounded-5 p-4",children:e.jsx(I,{children:e.jsxs(L,{onSubmit:f,children:[e.jsx("h4",{className:"text-center font-weight-bold mb-4 text-dark",children:"Login"}),e.jsx("p",{className:"text-center text-muted mb-4",children:"Sign in to your account"}),c&&e.jsx("p",{className:"text-danger text-center",children:c}),e.jsxs(x,{className:"mb-3",children:[e.jsx(p,{children:e.jsx(d,{icon:h})}),e.jsx(u,{placeholder:"Email",name:"email",autoComplete:"email",value:t.email,onChange:l,className:"shadow-sm border-0"})]}),e.jsxs(x,{className:"mb-4",children:[e.jsx(p,{children:e.jsx(d,{icon:h})}),e.jsx(u,{type:"password",placeholder:"Password",name:"password",autoComplete:"current-password",value:t.password,onChange:l,className:"shadow-sm border-0"})]}),e.jsx(n,{children:e.jsx(i,{xs:12,children:e.jsx(j,{type:"submit",color:"primary",className:"w-100 px-4 py-3 rounded-3 text-white",style:{fontSize:"16px",transition:"0.3s ease"},children:"Login"})})}),e.jsx(n,{className:"mt-4",children:e.jsx(i,{xs:12,className:"text-center",children:e.jsx(N,{to:"/forgot-password",children:e.jsx(j,{color:"link",className:"px-0 text-muted",children:"Forgot password?"})})})})]})})})})})})})})};export{J as default};
