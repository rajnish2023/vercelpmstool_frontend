import{r as t,j as s}from"./index-DgYjAzAV.js";import{C as g,a as o}from"./index.esm-FC9B2NJI.js";import{p as P}from"./api-CbhHiXfZ.js";import{C as u}from"./CRow-CkTnp1v3.js";import{C}from"./CCol-CupnGcp2.js";import{C as y}from"./CCardGroup-BaB92KPI.js";import{C as N,a as b}from"./CCardBody-beKhoL1g.js";import{C as v,a as n}from"./CInputGroupText-DrphRm9j.js";import{C as c}from"./CInputGroup-99dEA3AI.js";import{c as d}from"./cil-lock-locked-DmxpJbVL.js";import{C as l}from"./CFormInput-oMjOEnwC.js";import{a as S}from"./CButton-Ds9Im62X.js";import"./CFormControlWrapper-CjE6UTdE.js";const J=()=>{const[m,x]=t.useState(""),[e,h]=t.useState(""),[i,w]=t.useState(""),[p,a]=t.useState(""),j=localStorage.getItem("token"),f=async r=>{if(r.preventDefault(),a(""),e!==i){a("Passwords do not match");return}if(e.length<6){a("Password must be at least 6 characters long");return}try{await P(j,{currentPassword:m,newPassword:e}),alert("Password updated successfully")}catch{a("Failed to update password")}};return s.jsx("div",{className:"bg-body-tertiary min-vh-90 d-flex flex-row align-items-center",children:s.jsx(g,{children:s.jsx(u,{className:"justify-content-center",children:s.jsx(C,{md:6,children:s.jsx(y,{children:s.jsx(N,{className:"p-4",children:s.jsx(b,{children:s.jsxs(v,{onSubmit:f,children:[s.jsx("p",{className:"text-center",children:"Change Password"}),p&&s.jsx("p",{className:"text-danger text-center",children:p}),s.jsxs(c,{className:"mb-4",children:[s.jsx(n,{children:s.jsx(o,{icon:d})}),s.jsx(l,{type:"password",placeholder:"Current Password",autoComplete:"current-password",value:m,onChange:r=>x(r.target.value)})]}),s.jsxs(c,{className:"mb-4",children:[s.jsx(n,{children:s.jsx(o,{icon:d})}),s.jsx(l,{type:"password",placeholder:"New Password",autoComplete:"new-password",value:e,onChange:r=>h(r.target.value)})]}),s.jsxs(c,{className:"mb-4",children:[s.jsx(n,{children:s.jsx(o,{icon:d})}),s.jsx(l,{type:"password",placeholder:"Confirm Password",autoComplete:"confirm-password",value:i,onChange:r=>w(r.target.value)})]}),s.jsx(u,{children:s.jsx(C,{xs:6,children:s.jsx(S,{type:"submit",color:"primary",className:"px-4",children:"Change Now"})})})]})})})})})})})})};export{J as default};
